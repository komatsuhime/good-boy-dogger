(function(d,w,a){function b(a){a&&!a.setTargetAtTime&&(a.setTargetAtTime=a.setTargetValueAtTime)}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||
(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var a=this.internal_createGain();b(a.gain);return a},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(a){a=a?this.internal_createDelay(a):this.internal_createDelay();b(a.delayTime);return a},AudioContext.prototype.internal_createBufferSource=
AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var a=this.internal_createBufferSource();a.start||(a.start=function(a,c,b){c||b?this.noteGrainOn(a,c,b):this.noteOn(a)});a.stop||(a.stop=a.noteOff);b(a.playbackRate);return a},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var a=this.internal_createDynamicsCompressor();b(a.threshold);b(a.knee);
b(a.ratio);b(a.reduction);b(a.attack);b(a.release);return a},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var a=this.internal_createBiquadFilter();b(a.frequency);b(a.detune);b(a.Q);b(a.gain);return a},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var a=
this.internal_createOscillator();a.start||(a.start=a.noteOn);a.stop||(a.stop=a.noteOff);b(a.frequency);b(a.detune);return a}))})(window);
(function(d){function w(a,b){var c=d.createEvent("Event");c.initEvent(a,!0,!1);b.dispatchEvent(c)}function a(a){d[h.enabled]=d[g.enabled];d[h.element]=d[g.element];w(h.events.change,a.target)}function b(a){w(h.events.error,a.target)}var c,f={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",
exit:"webkitCancelFullScreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},h=f.w3;for(c in f)if(f[c].enabled in
d){var g=f[c];break}h.enabled in d||!g||(d.addEventListener(g.events.change,a,!1),d.addEventListener(g.events.error,b,!1),d[h.enabled]=d[g.enabled],d[h.element]=d[g.element],d[h.exit]=d[g.exit],Element.prototype[h.request]=function(){return this[g.request].apply(this,arguments)});return g})(document);GA=GA||{};
GA.plugins=function(d){d.move=function(a){if(!1===a instanceof Array)a.x+=a.vx|0,a.y+=a.vy|0;else for(var b=0;b<a.length;b++){var c=a[b];c.x+=c.vx|0;c.y+=c.vy|0}};d.distance=function(a,b){var c=b.centerX-a.centerX,f=b.centerY-a.centerY;return Math.sqrt(c*c+f*f)};d.followEase=function(a,b,c){var f=b.centerX-a.centerX;b=b.centerY-a.centerY;1<=Math.sqrt(f*f+b*b)&&(a.x+=f*c,a.y+=b*c)};d.followConstant=function(a,b,c){var f=b.centerX-a.centerX;b=b.centerY-a.centerY;var d=Math.sqrt(f*f+b*b);d>=c&&(a.x+=
f/d*c,a.y+=b/d*c)};d.rotateAroundSprite=function(a,b,c,d){a.x=b.centerX-a.parent.x+c*Math.cos(d)-a.halfWidth;a.y=b.centerY-a.parent.y+c*Math.sin(d)-a.halfWidth};d.rotateAroundPoint=function(a,b,c,d,h){var f={};f.x=a+Math.cos(h)*c;f.y=b+Math.sin(h)*d;return f};d.angle=function(a,b){return Math.atan2(b.centerY-a.centerY,b.centerX-a.centerX)};d.randomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};d.randomFloat=function(a,b){return a+Math.random()*(b-a)};d.wait=function(a,b){return setTimeout(b,
a)};d.worldCamera=function(a,b){return{width:b.width,height:b.height,_x:0,_y:0,get x(){return this._x},set x(b){this._x=b;a.x=-this._x;a._previousX=a.x},get y(){return this._y},set y(b){this._y=b;a.y=-this._y;a._previousY=a.y},get centerX(){return this.x+this.width/2},get centerY(){return this.y+this.height/2},get rightInnerBoundary(){return this.x+this.width/2+this.width/4},get leftInnerBoundary(){return this.x+this.width/2-this.width/4},get topInnerBoundary(){return this.y+this.height/2-this.height/
4},get bottomInnerBoundary(){return this.y+this.height/2+this.height/4},follow:function(b){b.x<this.leftInnerBoundary&&(this.x=b.x-this.width/4);b.y<this.topInnerBoundary&&(this.y=b.y-this.height/4);b.x+b.width>this.rightInnerBoundary&&(this.x=b.x+b.width-this.width/4*3);b.y+b.height>this.bottomInnerBoundary&&(this.y=b.y+b.height-this.height/4*3);0>this.x&&(this.x=0);0>this.y&&(this.y=0);this.x+this.width>a.width&&(this.x=a.width-this.width);this.y+this.height>a.height&&(this.y=a.height-this.height)},
centerOver:function(a){this.x=a.x+a.halfWidth-this.width/2;this.y=a.y+a.halfHeight-this.height/2}}};d.scaleToWindow=function(a){var b=Math.min(window.innerWidth/d.canvas.width,window.innerHeight/d.canvas.height);d.canvas.style.transformOrigin="0 0";d.canvas.style.transform="scale("+b+")";var c=d.canvas.width>d.canvas.height?d.canvas.width*b<window.innerWidth?"horizontally":"vertically":d.canvas.height*b<window.innerHeight?"vertically":"horizontally";if("horizontally"===c){var f=(window.innerWidth-
d.canvas.width*b)/2;d.canvas.style.marginLeft=f+"px";d.canvas.style.marginRight=f+"px"}"vertically"===c&&(f=(window.innerHeight-d.canvas.height*b)/2,d.canvas.style.marginTop=f+"px",d.canvas.style.marginBottom=f+"px");d.canvas.style.paddingLeft=0;d.canvas.style.paddingRight=0;d.canvas.style.paddingTop=0;d.canvas.style.paddingBottom=0;d.canvas.style.display="block";document.body.style.backgroundColor=a||"#2C3539";d.pointer.scale=b;d.scale=b;d.canvas.scaled=!0;a=navigator.userAgent.toLowerCase();-1==
a.indexOf("safari")||-1<a.indexOf("chrome")||(d.canvas.style.maxHeight="100%",d.canvas.style.minHeight="100%")};d.scaleToFit=function(a,b){if("width"===a){var c=d.canvas.width/window.innerWidth;var f=d.canvas.height/window.innerHeight}"height"===a&&(c=window.innerWidth/d.canvas.width,f=window.innerHeight/d.canvas.height);c=Math.min(c,f);d.canvas.style.transformOrigin="0 0";d.canvas.style.transform="scale("+c+")";document.body.style.backgroundColor=b;d.canvas.style.paddingLeft=0;d.canvas.style.paddingRight=
0;d.canvas.style.marginLeft="auto";d.canvas.style.marginRight="auto";d.canvas.style.display="block";d.canvas.style.minHeight="100%";f=navigator.userAgent.toLowerCase();-1==f.indexOf("safari")||-1<f.indexOf("chrome")||(d.canvas.style.maxHeight="100%",d.canvas.style.minHeight="100%");d.scale=c};d.shakingSprites=[];d.updateShakingSprites=function(){if(0<d.shakingSprites.length)for(var a=d.shakingSprites.length-1;0<=a;a--){var b=d.shakingSprites[a];b.updateShake&&b.updateShake()}};d.updateFunctions.push(d.updateShakingSprites);
d.shake=function(a,b,c){void 0===b&&(b=16);void 0===c&&(c=!1);var f=1,h=a.x,g=a.y,e=a.rotation,l=b/10,k=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};-1===d.shakingSprites.indexOf(a)&&(d.shakingSprites.push(a),a.updateShake=function(){c?(10>f&&(a.rotation=e,b-=l,a.rotation=b*m,f+=1,m*=-1),10<=f&&(a.rotation=e,d.shakingSprites.splice(d.shakingSprites.indexOf(a),1))):(10>f&&(a.x=h,a.y=g,b-=l,a.x+=k(-b,b),a.y+=k(-b,b),f+=1),10<=f&&(a.x=h,a.y=g,d.shakingSprites.splice(d.shakingSprites.indexOf(a),
1)))});var m=1};d.tweens=[];d.updateTweens=function(){if(0<d.tweens.length)for(var a=d.tweens.length-1;0<=a;a--){var b=d.tweens[a];b&&b.update()}};d.updateFunctions.push(d.updateTweens);d.cubicBezier=function(a,b,c,d,h){var f=a*a;return b+(3*-b+a*(3*b-b*a))*a+(3*c+a*(-6*c+3*c*a))*a+(3*d-3*d*a)*f+h*f*a};var w={linear:function(a){return a},smoothstep:function(a){return a*a*(3-2*a)},smoothstepSquared:function(a){return Math.pow(a*a*(3-2*a),2)},smoothstepCubed:function(a){return Math.pow(a*a*(3-2*a),
3)},acceleration:function(a){return a*a},accelerationCubed:function(a){return Math.pow(a*a,3)},deceleration:function(a){return 1-Math.pow(1-a,2)},decelerationCubed:function(a){return 1-Math.pow(1-a,3)},sine:function(a){return Math.sin(a*Math.PI/2)},sineSquared:function(a){return Math.pow(Math.sin(a*Math.PI/2),2)},sineCubed:function(a){return Math.pow(Math.sin(a*Math.PI/2),2)},inverseSine:function(a){return 1-Math.sin((1-a)*Math.PI/2)},inverseSineSquared:function(a){return 1-Math.pow(Math.sin((1-a)*
Math.PI/2),2)},inverseSineCubed:function(a){return 1-Math.pow(Math.sin((1-a)*Math.PI/2),3)},spline:function(a,b,c,d,h){return.5*(2*c+(-b+d)*a+(2*b-5*c+4*d-h)*a*a+(-b+3*c-3*d+h)*a*a*a)}};d.tweenProperty=function(a,b,c,f,h,g,e,l){void 0===h&&(h=60);void 0===g&&(g="smoothstep");void 0===e&&(e=!1);void 0===l&&(l=0);var k={},m=g.split(" ");"bounce"===m[0]&&(k.startMagnitude=parseInt(m[1]),k.endMagnitude=parseInt(m[2]));k.start=function(a,b){k.startValue=JSON.parse(JSON.stringify(a));k.endValue=JSON.parse(JSON.stringify(b));
k.playing=!0;k.totalFrames=h;k.frameCounter=0;d.tweens.push(k)};k.start(c,f);k.update=function(){if(k.playing)if(k.frameCounter<k.totalFrames){var c=k.frameCounter/k.totalFrames;c="bounce"!==m[0]?w[g](c):w.spline(c,k.startMagnitude,0,1,k.endMagnitude);a[b]=k.endValue*c+k.startValue*(1-c);k.frameCounter+=1}else k.end()};k.end=function(){k.playing=!1;if(k.onComplete)k.onComplete();d.tweens.splice(d.tweens.indexOf(k),1);e&&d.wait(l,function(){k.start(k.endValue,k.startValue)})};k.play=function(){k.playing=
!0};k.pause=function(){k.playing=!1};return k};d.fadeOut=function(a,b){void 0===b&&(b=60);return d.tweenProperty(a,"alpha",a.alpha,0,b,"sine")};d.fadeIn=function(a,b){void 0===b&&(b=60);return d.tweenProperty(a,"alpha",a.alpha,1,b,"sine")};d.pulse=function(a,b,c){void 0===b&&(b=60);void 0===c&&(c=0);return d.tweenProperty(a,"alpha",a.alpha,c,b,"smoothstep",!0)};d.makeTween=function(a){var b={tweens:[]};a.forEach(function(a){a=d.tweenProperty(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);b.tweens.push(a)});
var c=0;b.completed=function(){c+=1;if(c===b.tweens.length){if(b.onComplete)b.onComplete();c=0}};b.tweens.forEach(function(a){a.onComplete=function(){b.completed()}});b.pause=function(){b.tweens.forEach(function(a){a.playing=!1})};b.play=function(){b.tweens.forEach(function(a){a.playing=!0})};return b};d.slide=function(a,b,c,f,h,g,e){void 0===f&&(f=60);void 0===h&&(h="smoothstep");void 0===g&&(g=!1);void 0===e&&(e=0);return d.makeTween([[a,"x",a.x,b,f,h,g,e],[a,"y",a.y,c,f,h,g,e]])};d.breathe=function(a,
b,c,f,h,g){void 0===f&&(f=60);void 0===h&&(h=!0);void 0===g&&(g=0);return d.makeTween([[a,"scaleX",a.scaleX,b,f,"smoothstepSquared",h,g],[a,"scaleY",a.scaleY,c,f,"smoothstepSquared",h,g]])};d.scale=function(a,b,c,f){void 0===f&&(f=60);return d.makeTween([[a,"scaleX",a.scaleX,b,f,"smoothstep",!1],[a,"scaleY",a.scaleY,c,f,"smoothstep",!1]])};d.strobe=function(a,b,c,f,h,g,e){void 0===b&&(b=1.3);void 0===c&&(c=10);void 0===f&&(f=20);void 0===h&&(h=10);void 0===g&&(g=!0);void 0===e&&(e=0);c="bounce "+
c+" "+f;return d.makeTween([[a,"scaleX",a.scaleX,b,h,c,g,e],[a,"scaleY",a.scaleY,b,h,c,g,e]])};d.wobble=function(a,b,c,f,h,g,e,l,k,m,r){void 0===b&&(b=1.2);void 0===c&&(c=1.2);void 0===f&&(f=10);void 0===h&&(h=10);void 0===g&&(g=10);void 0===e&&(e=-10);void 0===l&&(l=-10);void 0===k&&(k=.98);void 0===m&&(m=!0);void 0===r&&(r=0);a=d.makeTween([[a,"scaleX",a.scaleX,b,f,"bounce "+h+" "+g,m,r],[a,"scaleY",a.scaleY,c,f,"bounce "+e+" "+l,m,r]]);a.tweens.forEach(function(a){a.onComplete=function(){1<a.endValue&&
(a.endValue*=k,1>=a.endValue&&(a.endValue=1,d.removeTween(a)))}});return a};d.removeTween=function(a){a.tweens?(a.pause(),a.tweens.forEach(function(a){d.tweens.splice(d.tweens.indexOf(a),1)})):(a.pause(),d.tweens.splice(d.tweens.indexOf(a),1))};d.followCurve=function(a,b,c,f,h,g){void 0===f&&(f="smoothstep");void 0===h&&(h=!1);void 0===g&&(g=0);var e={},l=f.split(" ");"bounce"===l[0]&&(e.startMagnitude=parseInt(l[1]),e.endMagnitude=parseInt(l[2]));e.start=function(a){e.playing=!0;e.totalFrames=c;
e.frameCounter=0;e.pointsArray=JSON.parse(JSON.stringify(a));d.tweens.push(e)};e.start(b);e.update=function(){var b=e.pointsArray;if(e.playing)if(e.frameCounter<e.totalFrames){var c=e.frameCounter/e.totalFrames;c="bounce"!==l[0]?w[f](c):w.spline(c,e.startMagnitude,0,1,e.endMagnitude);a.x=d.cubicBezier(c,b[0][0],b[1][0],b[2][0],b[3][0]);a.y=d.cubicBezier(c,b[0][1],b[1][1],b[2][1],b[3][1]);e.frameCounter+=1}else e.end()};e.end=function(){e.playing=!1;if(e.onComplete)e.onComplete();d.tweens.splice(d.tweens.indexOf(e),
1);h&&d.wait(g,function(){e.pointsArray=e.pointsArray.reverse();e.start(e.pointsArray)})};e.pause=function(){e.playing=!1};e.play=function(){e.playing=!0};return e};d.walkPath=function(a,b,c,f,h,g,e){function l(b){var c=d.makeTween([[a,"x",k[b][0],k[b+1][0],m,f],[a,"y",k[b][1],k[b+1][1],m,f]]);c.onComplete=function(){b+=1;b<k.length-1?d.wait(e,function(){c=l(b)}):h&&(g&&k.reverse(),d.wait(e,function(){b=0;a.x=k[0][0];a.y=k[0][1];c=l(b)}))};return c}void 0===c&&(c=300);void 0===f&&(f="smoothstep");
void 0===h&&(h=!1);void 0===g&&(g=!1);void 0===e&&(e=0);var k=JSON.parse(JSON.stringify(b)),m=c/k.length;return l(0)};d.walkCurve=function(a,b,c,f,h,g,e){function l(c){var m=d.followCurve(a,b[c],k,f);m.onComplete=function(){c+=1;c<b.length?d.wait(e,function(){m=l(c)}):h&&(g&&(b.reverse(),b.forEach(function(a){a.reverse()})),d.wait(e,function(){c=0;a.x=b[0][0];a.y=b[0][1];m=l(c)}))};return m}void 0===c&&(c=300);void 0===f&&(f="smoothstep");void 0===h&&(h=!1);void 0===g&&(g=!1);void 0===e&&(e=0);var k=
c/b.length;return l(0)};d.shoot=function(a,b,c,d,h,g){g=g();g.x=a.centerX-g.halfWidth+c*Math.cos(b);g.y=a.centerY-g.halfHeight+c*Math.sin(b);g.vx=Math.cos(b)*d;g.vy=Math.sin(b)*d;h.push(g)};d.grid=function(a,b,c,f,h,g,e,l,k){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=32);void 0===f&&(f=32);void 0===g&&(g=0);void 0===e&&(e=0);void 0===h&&(h=!1);var m=d.group();m.createGrid=function(){for(var d=a*b,n=0;n<d;n++){var t=n%a*c,v=Math.floor(n/a)*f,q=l();m.addChild(q);h?(q.x=t+c/2-q.halfWidth+g,q.y=
v+f/2-q.halfHeight+e):(q.x=t+g,q.y=v+e);k&&k(q)}};m.createGrid();d.stage.addChild(m);return m};d.progressBar={maxWidth:0,height:0,backgroundColor:"gray",foregroundColor:"cyan",backBar:null,frontBar:null,percentage:null,assets:null,initialized:!1,create:function(a,b){this.initialized||(this.assets=b,this.maxWidth=d.canvas.width/2,this.backBar=d.rectangle(this.maxWidth,32,this.backgroundColor),this.backBar.x=d.canvas.width/2-this.maxWidth/2,this.backBar.y=d.canvas.height/2-16,this.frontBar=d.rectangle(this.maxWidth,
32,this.foregroundColor),this.frontBar.x=d.canvas.width/2-this.maxWidth/2,this.frontBar.y=d.canvas.height/2-16,this.percentage=d.text("0%","28px sans-serif","black"),this.percentage.x=d.canvas.width/2-this.maxWidth/2+12,this.percentage.y=d.canvas.height/2-12,this.initialized=!0)},update:function(){var a=(d.assets.loaded+1)/d.assets.toLoad;this.frontBar.width=this.maxWidth*a;this.percentage.content=Math.floor(100*a)+"%"},remove:function(){d.remove(this.frontBar);d.remove(this.backBar);d.remove(this.percentage)}};
d.particles=[];d.particleEffect=function(a,b,c,f,h,g,e,l,k,m,r,n,t,v,q,u,B,A){function w(f){var e=c();0<e.frames.length&&e.gotoAndStop(Math.floor(Math.random()*(e.frames.length-1-0+1))+0);e.x=a-e.halfWidth;e.y=b-e.halfHeight;var g=Math.floor(Math.random()*(m-k+1))+k;e.width=g;e.height=g;e.scaleSpeed=t+Math.random()*(v-t);e.alphaSpeed=q+Math.random()*(u-q);e.rotationSpeed=B+Math.random()*(A-B);g=r+Math.random()*(n-r);e.vx=g*Math.cos(f);e.vy=g*Math.sin(f);e.updateParticle=function(){e.vy+=h;e.x+=e.vx;
e.y+=e.vy;0<e.scaleX-e.scaleSpeed&&(e.scaleX-=e.scaleSpeed);0<e.scaleY-e.scaleSpeed&&(e.scaleY-=e.scaleSpeed);e.rotation+=e.rotationSpeed;e.alpha-=e.alphaSpeed;0>=e.alpha&&(d.remove(e),d.particles.splice(d.particles.indexOf(e),1))};d.particles.push(e)}void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=function(){return d.circle(10,"red")});void 0===f&&(f=10);void 0===h&&(h=0);void 0===g&&(g=!0);void 0===e&&(e=0);void 0===l&&(l=6.28);void 0===k&&(k=4);void 0===m&&(m=16);void 0===r&&(r=.1);void 0===
n&&(n=1);void 0===t&&(t=.01);void 0===v&&(v=.05);void 0===q&&(q=.02);void 0===u&&(u=.02);void 0===B&&(B=.01);void 0===A&&(A=.03);for(var p=[],x,y=(l-e)/(f-1),z=0;z<f;z++)g?(x=e+Math.random()*(l-e),p.push(x)):(void 0===x&&(x=e),p.push(x),x+=y);p.forEach(function(a){w(a)})};d.updateParticles=function(){if(0<d.particles.length)for(var a=d.particles.length-1;0<=a;a--)d.particles[a].updateParticle()};d.updateFunctions.push(d.updateParticles);d.emitter=function(a,b){function c(){b()}var d={},h=void 0;d.playing=
!1;d.play=function(){d.playing||(b(),h=setInterval(c.bind(this),a),d.playing=!0)};d.stop=function(){d.playing&&(clearInterval(h),d.playing=!1)};return d};d.tilingSprite=function(a,b,c,f,h){void 0===f&&(f=0);void 0===h&&(h=0);if(d.assets[c].frame){var g=d.assets[c].frame.w;var e=d.assets[c].frame.h}else g=d.assets[c].width,e=d.assets[c].height;var l=a>=g?Math.round(a/g)+1:2;var k=b>=e?Math.round(b/e)+1:2;var m=d.grid(l,k,g,e,!1,0,0,function(){return d.sprite(c)});m._tileX=0;m._tileY=0;a=d.rectangle(a,
b,"none","none");a.x=f;a.y=h;a.mask=!0;a.addChild(m);Object.defineProperties(a,{tileX:{get:function(){return m._tileX},set:function(a){m.children.forEach(function(b){var c=a-m._tileX;b.x+=c;b.x>(l-1)*g&&(b.x=0-g+c);b.x<0-g-c&&(b.x=(l-1)*g)});m._tileX=a},enumerable:!0,configurable:!0},tileY:{get:function(){return m._tileY},set:function(a){m.children.forEach(function(b){var c=a-m._tileY;b.y+=c;b.y>(k-1)*e&&(b.y=0-e+c);b.y<0-e-c&&(b.y=(k-1)*e)});m._tileY=a},enumerable:!0,configurable:!0}});return a};
d.burst=function(a,b,c,f,h,g,e,l,k,m,r,n,t,v){function q(){var f=c();f.x=a-f.halfWidth;f.y=b-f.halfHeight;var q=d.randomFloat(h,g);f.width=q;f.height=q;f.scaleSpeed=d.randomFloat(k,m);f.alphaSpeed=d.randomFloat(r,n);f.rotationSpeed=d.randomFloat(t,v);q=d.randomFloat(e,l);f.vx=q*Math.cos(u*Math.PI/180);f.vy=q*Math.sin(u*Math.PI/180);f.update=function(){f.x+=f.vx;f.y+=f.vy;0<f.scaleX-f.scaleSpeed&&(f.scaleX-=f.scaleSpeed);0<f.scaleY-f.scaleSpeed&&(f.scaleY-=f.scaleSpeed);f.rotation+=f.rotationSpeed;
f.alpha-=f.alphaSpeed;0>=f.alpha&&(d.remove(f),d.particles.splice(d.particles.indexOf(f),1))};d.particles.push(f)}a=a||0;b=b||0;c=c||function(){return d.circle(10,"red")};h=h||4;g=g||16;f=f||10;e=e||.1;l=l||1;k=k||.01;m=m||.05;r=r||.02;n=n||.02;t=t||.01;v=v||.03;var u;for(u=0;360>u;u+=Math.round(360/f))q()};d.outsideBounds=function(a,b,c){var d=b.y,h=b.width,g=b.height,e;a.x<b.x-a.width&&(e="left");a.y<d-a.height&&(e="top");a.x>h&&(e="right");a.y>g&&(e="bottom");e&&c&&c(e);return e};d.contain=function(a,
b,c,d){var f=b.x,g=b.y,e=b.width;b=b.height;c=c||!1;if(a.x<f){c&&(a.vx*=-1);a.mass&&(a.vx/=a.mass);a.x=f;var l="left"}a.y<g&&(c&&(a.vy*=-1),a.mass&&(a.vy/=a.mass),a.y=g,l="top");a.x+a.width>e&&(c&&(a.vx*=-1),a.mass&&(a.vx/=a.mass),a.x=e-a.width,l="right");a.y+a.height>b&&(c&&(a.vy*=-1),a.mass&&(a.vy/=a.mass),a.y=b-a.height,l="bottom");l&&d&&d(l);return l};d.hitTestPoint=function(a,b){var c=b.radius?"circle":"rectangle";if("rectangle"===c){var d=b.x;var h=b.x+b.width;var g=b.y;var e=b.y+b.height;d=
a.x>d&&a.x<h&&a.y>g&&a.y<e}"circle"===c&&(c=a.x-b.centerX,d=a.y-b.centerY,c=Math.sqrt(c*c+d*d),d=c<b.radius);return d};d.hitTestCircle=function(a,b,c){void 0===c&&(c=!1);if(c){c=b.gx+b.radius-(a.gx+a.radius);var d=b.gy+b.radius-(a.gy+a.radius)}else c=b.centerX-a.centerX,d=b.centerY-a.centerY;return Math.sqrt(c*c+d*d)<a.radius+b.radius};d.hitTestRectangle=function(a,b,c){void 0===c&&(c=!1);if(c){var d=a.gx+a.halfWidth-(b.gx+b.halfWidth);var h=a.gy+a.halfHeight-(b.gy+b.halfHeight)}else d=a.centerX-
b.centerX,h=a.centerY-b.centerY;c=a.halfWidth+b.halfWidth;a=a.halfHeight+b.halfHeight;return Math.abs(d)<c?Math.abs(h)<a?!0:!1:!1};d.hitTestCircleRectangle=function(a,b,c){void 0===c&&(c=!1);if(c){var f=a.gx;var h=a.gy;var g=b.gx;var e=b.gy}else f=a.x,h=a.y,g=b.x,e=b.y;f=h<e-b.halfHeight?f<g-1-b.halfWidth?"topLeft":f>g+1+b.halfWidth?"topRight":"topMiddle":h>e+b.halfHeight?f<g-1-b.halfWidth?"bottomLeft":f>g+1+b.halfWidth?"bottomRight":"bottomMiddle":f<g-b.halfWidth?"leftMiddle":"rightMiddle";if("topMiddle"===
f||"bottomMiddle"===f||"leftMiddle"===f||"rightMiddle"===f)a=d.hitTestRectangle(a,b,c);else{h={};switch(f){case "topLeft":h.x=g;h.y=e;break;case "topRight":h.x=g+b.width;h.y=e;break;case "bottomLeft":h.x=g;h.y=e+b.height;break;case "bottomRight":h.x=g+b.width,h.y=e+b.height}a=d.hitTestCirclePoint(a,h,c)}return a?f:a};d.hitTestCirclePoint=function(a,b,c){void 0===c&&(c=!1);b.diameter=1;b.radius=.5;b.centerX=b.x;b.centerY=b.y;b.gx=b.x;b.gy=b.y;return d.hitTestCircle(a,b,c)};d.rectangleCollision=function(a,
b,c,d){void 0===c&&(c=!1);void 0===d&&(d=!1);if(d){d=a.gx+a.halfWidth-(b.gx+b.halfWidth);var f=a.gy+a.halfHeight-(b.gy+b.halfHeight)}else d=a.centerX-b.centerX,f=a.centerY-b.centerY;var g=a.halfWidth+b.halfWidth;b=a.halfHeight+b.halfHeight;if(Math.abs(d)<g&&Math.abs(f)<b)if(g-=Math.abs(d),b-=Math.abs(f),g>=b){if(0<f){var e="top";a.y+=b}else e="bottom",a.y-=b;c&&(a.vy*=-1)}else 0<d?(e="left",a.x+=g):(e="right",a.x-=g),c&&(a.vx*=-1);return e};d.circleCollision=function(a,b,c,d){var f=!1;void 0===c&&
(c=!0);void 0===d&&(d=!1);if(d){d=b.gx+b.radius-(a.gx+a.radius);var g=b.gy+b.radius-(a.gy+a.radius)}else d=b.centerX-a.centerX,g=b.centerY-a.centerY;var e=Math.sqrt(d*d+g*g);b=a.radius+b.radius;if(e<b&&(f=!0,b=b-e+.3,a.x-=d/e*b,a.y-=g/e*b,c)){e=g;var l=-d;c=a.mass||1;g=-e;b=Math.sqrt(e*e+l*l);var k=e/b;d=l/b;e=a.vx*k+a.vy*d;var m=l/b*a.vx+g/b*a.vy;l=l/b*m*-1;g=g/b*m*-1;b=e*k+l;d=e*d+g;a.vx=b/c;a.vy=d/c}return f};d.movingCircleCollision=function(a,b,c){var d,h,g=!1;a.mass=a.mass||1;b.mass=b.mass||
1;void 0===c&&(c=!1);if(c){var e=b.gx+b.radius-(a.gx+a.radius);var l=b.gy+b.radius-(a.gy+a.radius)}else e=b.centerX-a.centerX,l=b.centerY-a.centerY;c=Math.sqrt(e*e+l*l);var k=a.radius+b.radius;if(c<k){g=!0;var m=k-c+.3;k=e/c;var r=l/c;var n=Math.abs(k*m/2);m=Math.abs(r*m/2);a.x>b.x?d=1:d=-1;a.y>b.y?h=1:h=-1;a.x+=n*d;a.y+=m*h;b.x+=n*-d;b.y+=m*-h;d=l;h=-e;e=a.vx*k+a.vy*r;l=d/c*a.vx+h/c*a.vy;n=b.vx*k+b.vy*r;m=d/c*b.vx+h/c*b.vy;a.bounce={};a.bounce.x=d/c*l+n*k;a.bounce.y=h/c*l+n*r;b.bounce={};b.bounce.x=
e*k+d/c*m;b.bounce.y=e*r+h/c*m;a.vx=a.bounce.x/a.mass;a.vy=a.bounce.y/a.mass;b.vx=b.bounce.x/b.mass;b.vy=b.bounce.y/b.mass}return g};d.multipleCircleCollision=function(a,b){void 0===b&&(b=!1);for(var c=0;c<a.length;c++)for(var f=a[c],h=c+1;h<a.length;h++)d.movingCircleCollision(f,a[h],b)};d.circlePointCollision=function(a,b,c,f){void 0===f&&(f=!1);void 0===c&&(c=!1);b.diameter=1;b.radius=.5;b.centerX=b.x;b.centerY=b.y;b.gx=b.x;b.gy=b.y;return d.circleCollision(a,b,c,f)};d.circleRectangleCollision=
function(a,b,c,f){void 0===f&&(f=!1);void 0===c&&(c=!1);if(f){var h=a.gx;var g=a.gy;var e=b.gx;var l=b.gy}else h=a.x,g=a.y,e=b.x,l=b.y;h=g<l-b.halfHeight?h<e-1-b.halfWidth?"topLeft":h>e+1+b.halfWidth?"topRight":"topMiddle":g>l+b.halfHeight?h<e-1-b.halfWidth?"bottomLeft":h>e+1+b.halfWidth?"bottomRight":"bottomMiddle":h<e-b.halfWidth?"leftMiddle":"rightMiddle";if("topMiddle"===h||"bottomMiddle"===h||"leftMiddle"===h||"rightMiddle"===h)a=d.rectangleCollision(a,b,c,f);else{g={};switch(h){case "topLeft":g.x=
e;g.y=l;break;case "topRight":g.x=e+b.width;g.y=l;break;case "bottomLeft":g.x=e;g.y=l+b.height;break;case "bottomRight":g.x=e+b.width,g.y=l+b.height}a=d.circlePointCollision(a,g,c,f)}return a?h:a};d.hit=function(a,b,c,f,h,g){function e(a,b){var e=void 0!==b.parent;if(void 0!==a.parent&&e){if(a.diameter&&b.diameter)return e=c?0!==a.vx+a.vy&&0!==b.vx+b.vy?d.movingCircleCollision(a,b,h):d.circleCollision(a,b,f,h):d.hitTestCircle(a,b,h),e;if(a.diameter&&!b.diameter)return e=c?d.circleRectangleCollision(a,
b,f,h):d.hitTestCircleRectangle(a,b,h),e;e=c?f?d.rectangleCollision(a,b,!0,h):d.rectangleCollision(a,b,!1,h):d.hitTestRectangle(a,b,h);return e}if(e&&void 0!==a.x&&void 0!==a.y)return d.hitTestPoint(a,b);throw Error("I'm sorry, "+a+" and "+b+" cannot be use together in a collision test.");}function l(){if(a instanceof Array){var c=a;b=a;a=c}for(c=b.length-1;0<=c;c--){var d=b[c];(k=e(a,d))&&g&&g(k,d)}}var k;c=c||!1;f=f||!1;h=h||!1;b instanceof Array||a instanceof Array?l():(k=e(a,b))&&g&&g(k);return k};
d.getIndex=function(a,b,c,d,h){return Math.floor(a/c)+Math.floor(b/d)*h};d.getTile=function(a,b,c){var d={};d.gid=b[a];d.width=c.tilewidth;d.height=c.tileheight;d.halfWidth=c.tilewidth/2;d.halfHeight=c.tileheight/2;d.x=a%c.widthInTiles*c.tilewidth+c.x;d.y=Math.floor(a/c.widthInTiles)*c.tileheight+c.y;d.gx=d.x;d.gy=d.y;d.centerX=d.x+c.tilewidth/2;d.centery=d.y+c.tileheight/2;return d};d.surroundingCells=function(a,b){return[a-b-1,a-b,a-b+1,a-1,a,a+1,a+b-1,a+b,a+b+1]};d.getPoints=function(a){var b=
a.collisionArea;return void 0!==b?{topLeft:{x:a.x+b.x,y:a.y+b.y},topRight:{x:a.x+b.x+b.width,y:a.y+b.y},bottomLeft:{x:a.x+b.x,y:a.y+b.y+b.height},bottomRight:{x:a.x+b.x+b.width,y:a.y+b.y+b.height}}:{topLeft:{x:a.x,y:a.y},topRight:{x:a.x+a.width-1,y:a.y},bottomLeft:{x:a.x,y:a.y+a.height-1},bottomRight:{x:a.x+a.width-1,y:a.y+a.height-1}}};d.hitTestTile=function(a,b,c,f,h){function g(h){h=a.collisionPoints[h];e.index=d.getIndex(h.x,h.y,f.tilewidth,f.tileheight,f.widthInTiles);e.gid=b[e.index];return e.gid===
c?!0:!1}var e={};switch(h||"some"){case "center":a.collisionPoints={center:{x:a.centerX,y:a.centerY}};e.hit=Object.keys(a.collisionPoints).some(g);break;case "every":a.collisionPoints=d.getPoints(a);e.hit=Object.keys(a.collisionPoints).every(g);break;case "some":a.collisionPoints=d.getPoints(a),e.hit=Object.keys(a.collisionPoints).some(g)}return e};d.updateMap=function(a,b,c){var f=a.map(function(a){return 0});b instanceof Array?b.forEach(function(a){a.index=d.getIndex(a.centerX,a.centerY,c.tilewidth,
c.tileheight,c.widthInTiles);f[a.index]=a.gid}):(b.index=d.getIndex(b.centerX,b.centerY,c.tilewidth,c.tileheight,c.widthInTiles),f[b.index]=b.gid);return f};d.fourKeyController=function(a,b,c,f,h,g){a.direction="";leftArrow=d.keyboard(g);upArrow=d.keyboard(c);rightArrow=d.keyboard(f);downArrow=d.keyboard(h);leftArrow.press=function(){a.vx=-b;a.vy=0;a.direction="left"};leftArrow.release=function(){rightArrow.isDown||0!==a.vy||(a.vx=0)};upArrow.press=function(){a.vy=-b;a.vx=0;a.direction="up"};upArrow.release=
function(){downArrow.isDown||0!==a.vx||(a.vy=0)};rightArrow.press=function(){a.vx=b;a.vy=0;a.direction="right"};rightArrow.release=function(){leftArrow.isDown||0!==a.vy||(a.vx=0)};downArrow.press=function(){a.vy=b;a.vx=0;a.direction="down"};downArrow.release=function(){upArrow.isDown||0!==a.vx||(a.vy=0)}};d.makeTiledWorld=function(a,b){a=d.json(a);var c=d.group();c.tileheight=a.tileheight;c.tilewidth=a.tilewidth;c.width=a.width*a.tilewidth;c.height=a.height*a.tileheight;c.widthInTiles=a.width;c.heightInTiles=
a.height;c.objects=[];var f=a.tilesets[0].spacing,h=Math.floor(a.tilesets[0].imagewidth/(a.tilewidth+f));a.layers.forEach(function(g){var e=d.group();Object.keys(g).forEach(function(a){"width"!==a&&"height"!==a&&(e[a]=g[a])});e.alpha=g.opacity;c.addChild(e);c.objects.push(e);"tilelayer"===g.type&&g.data.forEach(function(g,k){if(0!==g){var l=k%c.widthInTiles;var r=Math.floor(k/c.widthInTiles);l*=c.tilewidth;r*=c.tileheight;var n=(g-1)%h;var t=Math.floor((g-1)/h);n*=c.tilewidth;t*=c.tileheight;0<f&&
(n+=f+(g-1)%h*f,t+=f+f*Math.floor((g-1)/h));n=d.frame(b,n,t,c.tilewidth,c.tileheight);var v=a.tilesets[0].tileproperties,q=String(g-1);if(v[q]&&v[q].name){var u=d.sprite(n);Object.keys(v[q]).forEach(function(a){u[a]=v[q][a]});c.objects.push(u)}else u=d.sprite(n);u.x=l;u.y=r;u.index=k;u.gid=g;e.addChild(u)}});"objectgroup"===g.type&&g.objects.forEach(function(a){a.group=e;e.width=c.width;e.height=c.height;c.objects.push(a)})});c.getObject=function(a){this.searchForObject=function(){var b;c.objects.some(function(c){if(c.name&&
c.name===a)return b=c,!0});if(b)return b;console.log("There is no object with the property name: "+a)};return this.searchForObject()};c.getObjects=function(a){var b=Array.prototype.slice.call(arguments),d=[];c.objects.forEach(function(a){a.name&&-1!==b.indexOf(a.name)&&d.push(a)});0<d.length||console.log("I could not find those objects");return d};return c};d.fullscreenScale=1;d.requestFullScreen=function(){document.fullscreenEnabled||d.canvas.requestFullscreen()};d.exitFullScreen=function(){document.fullscreenEnabled&&
document.exitFullscreen()};d.alignFullscreen=function(){d.fullscreenScale=Math.min(screen.width/d.canvas.width,screen.height/d.canvas.height);if(0===document.styleSheets.length){var a=document.createElement("div");a.innerHTML="<style></style>";document.body.appendChild(a)}a=navigator.userAgent.toLowerCase();d.canvas.width>d.canvas.height?-1!==a.indexOf("safari")||-1!==a.indexOf("chrome")?document.styleSheets[0].insertRule("canvas:-webkit-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain}",
0):-1!==a.indexOf("firefox")?document.styleSheets[0].insertRule("canvas:-moz-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}",0):-1!==a.indexOf("opera")?document.styleSheets[0].insertRule("canvas:-o-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}",0):-1!==a.indexOf("explorer")?document.styleSheets[0].insertRule("canvas:-ms-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}",
0):document.styleSheets[0].insertRule("canvas:fullscreen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}",0):-1!==a.indexOf("safari")||-1!==a.indexOf("chrome")?document.styleSheets[0].insertRule("canvas:-webkit-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}",0):-1!==a.indexOf("firefox")?document.styleSheets[0].insertRule("canvas:-moz-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}",0):-1!==a.indexOf("opera")?
document.styleSheets[0].insertRule("canvas:-o-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}",0):-1!==a.indexOf("msie")?document.styleSheets[0].insertRule("canvas:-ms-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}",0):document.styleSheets[0].insertRule("canvas:fullscreen {height: 100%; margin: 0 auto; object-fit: contain;}",0)};d.enableFullscreen=function(a){a&&(a=Array.prototype.slice.call(arguments));d.alignFullscreen();d.canvas.addEventListener("mouseup",d.requestFullScreen,
!1);d.canvas.addEventListener("touchend",d.requestFullScreen,!1);a&&a.forEach(function(a){window.addEventListener("keyup",function(b){b.keyCode===a&&d.exitFullScreen();b.preventDefault()},!1)})};d.launchFullscreen=function(a){d.hitTestPoint(d.pointer.position,a)&&d.enableFullscreen()};d.scaleFullscreen=function(){document.fullscreenEnabled?(d.scale=d.fullscreenScale,d.pointer.scale=d.fullscreenScale):d.canvas.scaled||(d.scale=1,d.pointer.scale=1)};d.updateFunctions.push(d.scaleFullscreen);d.actx=
new AudioContext;d.makeSound=function(a,b){var c={},f=d.actx;c.volumeNode=d.actx.createGain();c.panNode=f.createStereoPanner?f.createStereoPanner():f.createPanner();c.delayNode=f.createDelay();c.feedbackNode=f.createGain();c.filterNode=f.createBiquadFilter();c.convolverNode=f.createConvolver();c.soundNode=null;c.buffer=null;c.source=null;c.loop=!1;c.playing=!1;c.loadHandler=void 0;c.panValue=0;c.volumeValue=1;c.startTime=0;c.startOffset=0;c.playbackRate=1;c.echo=!1;c.delayValue=.3;c.feebackValue=
.3;c.filterValue=0;c.reverb=!1;c.reverbImpulse=null;c.play=function(){c.startTime=f.currentTime;c.soundNode=f.createBufferSource();c.soundNode.buffer=c.buffer;c.soundNode.playbackRate.value=this.playbackRate;c.soundNode.connect(c.volumeNode);!1===c.reverb?c.volumeNode.connect(c.panNode):(c.volumeNode.connect(c.convolverNode),c.convolverNode.connect(c.panNode),c.convolverNode.buffer=c.reverbImpulse);c.panNode.connect(f.destination);c.echo&&(c.feedbackNode.gain.value=c.feebackValue,c.delayNode.delayTime.value=
c.delayValue,c.filterNode.frequency.value=c.filterValue,c.delayNode.connect(c.feedbackNode),0<c.filterValue?(c.feedbackNode.connect(c.filterNode),c.filterNode.connect(c.delayNode)):c.feedbackNode.connect(c.delayNode),c.volumeNode.connect(c.delayNode),c.delayNode.connect(c.panNode));c.soundNode.loop=c.loop;c.soundNode.start(0,c.startOffset%c.buffer.duration);c.playing=!0};c.pause=function(){c.playing&&(c.soundNode.stop(0),c.startOffset+=f.currentTime-c.startTime,c.playing=!1)};c.restart=function(){c.playing&&
c.soundNode.stop(0);c.startOffset=0;c.play()};c.playFrom=function(a){c.playing&&c.soundNode.stop(0);c.startOffset=a;c.play()};c.setEcho=function(a,b,d){void 0===a&&(a=.3);void 0===b&&(b=.3);void 0===d&&(d=0);c.delayValue=a;c.feebackValue=b;c.filterValue=d;c.echo=!0};c.setReverb=function(a,b,e){void 0===a&&(a=2);void 0===b&&(b=2);void 0===e&&(e=!1);c.reverbImpulse=d.impulseResponse(a,b,e,f);c.reverb=!0};c.fade=function(a,b){c.playing&&(c.volumeNode.gain.linearRampToValueAtTime(c.volumeNode.gain.value,
f.currentTime),c.volumeNode.gain.linearRampToValueAtTime(a,f.currentTime+b))};c.fadeIn=function(a){c.volumeNode.gain.value=0;c.fade(1,a)};c.fadeOut=function(a){c.fade(0,a)};Object.defineProperties(c,{volume:{get:function(){return c.volumeValue},set:function(a){c.volumeNode.gain.value=a;c.volumeValue=a},enumerable:!0,configurable:!0},pan:{get:function(){return f.createStereoPanner?c.panNode.pan.value:c.panValue},set:function(a){f.createStereoPanner?c.panNode.pan.value=a:(c.panNode.setPosition(a,0,
1-Math.abs(a)),c.panValue=a)},enumerable:!0,configurable:!0}});c.load=function(){var d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.addEventListener("load",function(){f.decodeAudioData(d.response,function(a){c.buffer=a;c.hasLoaded=!0;b&&b()},function(a){throw Error("Audio could not be decoded: "+a);})});d.send()};c.load();return c};d.sound=function(a){return d.assets[a]};d.soundEffect=function(a,b,c,f,h,g,e,l,k,m,r,n,t){function v(a){var b=p.createConvolver();b.buffer=d.impulseResponse(t[0],
t[1],t[2],p);a.connect(b);b.connect(z)}function q(a){var b=p.createGain(),c=p.createDelay(),d=p.createBiquadFilter();c.delayTime.value=n[0];b.gain.value=n[1];n[2]&&(d.frequency.value=n[2]);c.connect(b);n[2]?(b.connect(d),d.connect(c)):b.connect(c);a.connect(c);c.connect(z)}function u(a){a.gain.value=0;a.gain.linearRampToValueAtTime(0,p.currentTime+e);a.gain.linearRampToValueAtTime(h,p.currentTime+e+b)}function w(a){a.gain.linearRampToValueAtTime(h,p.currentTime+b+e);a.gain.linearRampToValueAtTime(0,
p.currentTime+e+b+c)}function A(a){var d=a.frequency.value;k?(a.frequency.linearRampToValueAtTime(d,p.currentTime+e),a.frequency.linearRampToValueAtTime(d+l,p.currentTime+e+b+c)):(a.frequency.linearRampToValueAtTime(d,p.currentTime+e),a.frequency.linearRampToValueAtTime(d-l,p.currentTime+e+b+c))}function D(){var a=p.createOscillator(),d=p.createOscillator(),f=p.createGain(),g=p.createGain();f.gain.value=h;g.gain.value=h;a.connect(f);f.connect(p.destination);d.connect(g);g.connect(p.destination);a.type=
"sawtooth";d.type="sawtooth";a.frequency.value=C+r;d.frequency.value=C-r;0<b&&(u(f),u(g));0<c&&(w(f),w(g));0<l&&(A(a),A(d));n&&(q(f),q(g));t&&(v(f),v(g));a.start(p.currentTime+e);d.start(p.currentTime+e)}void 0===a&&(a=200);void 0===b&&(b=0);void 0===c&&(c=1);void 0===f&&(f="sine");void 0===h&&(h=1);void 0===g&&(g=0);void 0===e&&(e=0);void 0===l&&(l=0);void 0===k&&(k=!1);void 0===m&&(m=0);void 0===r&&(r=0);void 0===n&&(n=void 0);void 0===t&&(t=void 0);var p=d.actx;var x=p.createOscillator();var y=
p.createGain();var z=p.createStereoPanner?p.createStereoPanner():p.createPanner();x.connect(y);y.connect(z);z.connect(p.destination);y.gain.value=h;p.createStereoPanner?z.pan.value=g:z.setPosition(g,0,1-Math.abs(g));x.type=f;f=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};var C=0<m?f(a-m/2,a+m/2):a;x.frequency.value=C;0<b&&u(y);w(y);0<l&&A(x);n&&q(y);t&&v(y);0<r&&D();x.start(p.currentTime+e)};d.impulseResponse=function(a,b,c,d){a*=d.sampleRate;d=d.createBuffer(2,a,d.sampleRate);for(var f=
d.getChannelData(0),g=d.getChannelData(1),e=0;e<a;e++){var l=c?a-e:e;f[e]=(2*Math.random()-1)*Math.pow(1-l/a,b);g[e]=(2*Math.random()-1)*Math.pow(1-l/a,b)}return d}};